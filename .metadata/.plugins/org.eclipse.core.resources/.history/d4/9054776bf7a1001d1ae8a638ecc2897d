package test.employee;

import java.util.Arrays;

public class Manager extends Employee{
	private String dept;
	private Employee[] team;
	private int teamCount;
	
	/**
	 * @param no
	 * @param name
	 * @param phone
	 * @param pay
	 * @param dept
	 * @param team
	 */
	public Manager(String no, String name, String phone, int pay, String dept, Employee[] team) {
		super(no, name, phone, pay);
		this.dept = dept;
		this.setTeam(team);
	}
	@Override
	public String toString() {
		return getName() + "님의 급여 명세서\n23년 1월 금 " + getPay() + "만원";
	}
	
	public Manager(String no, String name, String phone, String dept, Employee[] team) {
		this(no, name, phone, 10000, dept, team);
//		super(no, name, phone, 10000);
//		this.dept = dept;
//		this.team = new Employee[5];
//		for(int j = 0; j < 5; ++j)
//			this.team[j] = null;
//		int i = 0;
//		for(Employee em : team)
//		{
//			if (em != null && em instanceof Engineer && ((Engineer)em).getDept().equals(dept) )
//			{
//				this.team[i++] = em;
//			}
//		}
	}
	

	@Override
	public int getPay()
	{
		int pay = super.getPay()/12;
		for(Employee em : team)
		{
			if (em != null)
			{
				pay += em.getPay()/10;
			}
		}
//		for(int i = 0; i < 5; ++i)
//		{
//			if (team[i] != null)
//			{
//				pay += team[i].getPay()/10;
//				System.out.println("emcheck");
//			}
//		}
		return pay;
	}
	public String getDept() {
		return dept;
	}
	public Employee[] getteam() {
		return team;
	}
	
	public void setDept(String dept) {
		this.dept = dept;
	}
	public void setTeam(Employee[] team) {
		this.team = new Employee[5];
		
		int i = 0;
		for(Employee em : team)
		{
			if (em != null && em instanceof Engineer && ((Engineer)em).getDept().equals(dept) )
			{
				this.team[i++] = em;
			}
		}
		teamCount = i;
	}
}
